openapi: 3.0.0
info:
  version: 0.1.0
  title: Test

components:
  schemas:
    Artist:
      type: object
      required:
        - leftFoot
        - rightHand
      properties:
        leftHand:
          nullable: true
          allOf:
            - $ref: "#/components/schemas/AnyThing"
        rightHand:
          nullable: true
          allOf:
            - $ref: "#/components/schemas/Color"
        leftFoot:
          type: string
          enum:
            - red
            - green
            - blue
          default: blue
        rightFoot:
          nullable: true
          allOf:
            - type: string
              enum:
                - apple
                - banana
                - pizza
            - type: string
              enum:
                - orange
                - watermelon
                - kiwi

    AnyThing:
      allOf:
        - $ref: "#/components/schemas/Color"
        - $ref: "#/components/schemas/Food"

    Color:
      type: string
      enum:
        - red
        - green
        - blue

    Food:
      type: string
      enum:
        - apple
        - banana
        - pizza
